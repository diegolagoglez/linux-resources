#!/bin/bash

source ~/bin/git-tools

function sizes() {
	if [ "$2" != "" ]; then
		size=$(du -hs $1 --exclude $2)
		bsize=$(du -s --block-size=1 $1 --exclude $2)
	else
		size=$(du -hs $1)
		bsize=$(du -s --block-size=1 $1)
	fi
	repo_size=$(echo $size | cut -d' ' -f1)
	repo_bsize=$(echo $bsize | cut -d' ' -f1)
}

check_git_dir

sizes $PROJECT_DIR
echo "Total size   : $repo_size ($repo_bsize B)"

sizes $PROJECT_DIR/$GIT_DIR
echo "Git dir size : $repo_size ($repo_bsize B)"

sizes $PROJECT_DIR $GIT_DIR
echo "Project size : $repo_size ($repo_bsize B)"

